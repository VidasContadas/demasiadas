const widthMobile=window.innerWidth>0?window.innerWidth:screen.width;function ao(){const e=16,s=48,t=d3.select(".chart-ao"),c=t.select("svg");let l;d3.csv("csv/ao.csv",(n,a)=>{n?console.log(n):(l=a,c.select(".chart-ao-container").append("g").attr("class","chart-ao-container-bis"),(n=>{const a=t.node().offsetWidth,i=650;c.attr("width",a).attr("height",i);const o=`translate(${s},${e})`;c.select(".chart-ao-container").attr("transform",o);const r=t.select(".chart-ao-container-bis");function d(e,s){let t=new RegExp(`20[${e}-${e}][${s}-${s}]`,"g");const c=l.filter(e=>String(e.year).match(t));r.selectAll(`.circle-${e}-${s}`).data(c).enter().append("circle").attr("class",`circles circle-${e}-${s}`).attr("r",0).attr("cy",e=>widthMobile>544?i/2:0).attr("cx",e=>widthMobile>544?-60:a/2).transition().delay((e,s)=>10*s).duration(500).ease(d3.easeLinear).attr("r",e=>1.25*e.radius).attr("cy",e=>widthMobile>544?e.cy:e.cy-10).attr("cx",e=>widthMobile>544?e.cx-100:e.cx-330)}(()=>{document.querySelector("#scroll").querySelectorAll(".scroll-ao");let e=scrollama();const s=e=>{0!==e.index||e.element.classList.contains("scrollaunch")?1!==e.index||e.element.classList.contains("scrollaunch")?2!==e.index||e.element.classList.contains("scrollaunch")?3!==e.index||e.element.classList.contains("scrollaunch")?4!==e.index||e.element.classList.contains("scrollaunch")?5!==e.index||e.element.classList.contains("scrollaunch")?6!==e.index||e.element.classList.contains("scrollaunch")?7!==e.index||e.element.classList.contains("scrollaunch")?8!==e.index||e.element.classList.contains("scrollaunch")?9!==e.index||e.element.classList.contains("scrollaunch")?10!==e.index||e.element.classList.contains("scrollaunch")?11!==e.index||e.element.classList.contains("scrollaunch")||(e.element.classList.add("scrollaunch"),c.attr("viewBox","0 0 970 650").transition().delay((e,s)=>10*s).duration(600).ease(d3.easeLinear).attr("viewBox",e=>widthMobile>768?"500 -800 1270 1650":"-450 -800 1270 1650")):(d(1,7),d(1,8),e.element.classList.add("scrollaunch")):(d(1,6),e.element.classList.add("scrollaunch")):(d(1,5),e.element.classList.add("scrollaunch")):(d(1,4),e.element.classList.add("scrollaunch")):(d(1,3),e.element.classList.add("scrollaunch")):(d(1,2),e.element.classList.add("scrollaunch")):(d(1,1),e.element.classList.add("scrollaunch")):(d(1,0),e.element.classList.add("scrollaunch")):(d(0,9),e.element.classList.add("scrollaunch")):(d(0,8),e.element.classList.add("scrollaunch")):(d(0,7),e.element.classList.add("scrollaunch"))};e.setup({step:".scroll-ao",debug:!1,offset:.33}).onStepEnter(s),window.addEventListener("resize",e.resize)})()})())})}ao();