const widthMobile=window.innerWidth>0?window.innerWidth:screen.width;function ao(){const e=16,t=48,i=d3.select(".chart-ao"),n=i.select("svg");let c;const a=a=>{const r=i.node().offsetWidth,o=650;n.attr("width",r).attr("height",o);const d=`translate(${t},${e})`;n.select(".chart-ao-container").attr("transform",d);const s=i.select(".chart-ao-container-bis");function l(e,t){let i=new RegExp(`20[${e}-${e}][${t}-${t}]`,"g");const n=c.filter(e=>String(e.year).match(i));s.selectAll(`.circle-${e}-${t}`).data(n).enter().append("circle").attr("class",`circles circle-${e}-${t}`).attr("r",0).attr("cy",e=>widthMobile>768?o/2:0).attr("cx",e=>widthMobile>768?-60:r/2).transition().delay((e,t)=>10*t).duration(500).ease(d3.easeLinear).attr("r",2).attr("cy",e=>widthMobile>768?e.cy:e.cy-10).attr("cx",e=>widthMobile>768?e.cx-100:e.cx-240)}function x(e){d3.select(".asesinadas-numero").transition().duration(300).ease(d3.easeLinear).text(e)}(()=>{document.querySelector("#scroll").querySelectorAll(".scroll-ao");let e=scrollama();const t=e=>{0===e.index?(d3.selectAll(".circles").remove().exit(),l(0,0),x(54),console.log("primera iteraciÃ³n")):1===e.index?(l(0,1),x(104)):2===e.index?(l(0,2),x(158)):3===e.index?(l(0,3),x(229)):4===e.index?(l(0,4),x(301)):5===e.index?(l(0,5),x(358)):6===e.index?(l(0,6),x(427)):7===e.index?(l(0,7),x(498)):8===e.index?(l(0,8),x(574)):9===e.index?(l(0,9),x(640)):10===e.index?(l(1,0),x(713)):11===e.index?(l(1,1),x(774)):12===e.index?(l(1,2),x(826)):13===e.index?(l(1,3),x(880)):14===e.index?(l(1,4),x(935)):15===e.index?(l(1,5),x(995)):16===e.index?(l(1,6),l(1,7),x(1044)):17===e.index?(l(1,8),l(1,9),x(1095)):18===e.index&&(d3.selectAll(".circles").data(c).attr("r",0).attr("cx",e=>widthMobile>768?e.cx-10:e.cx-250).attr("cy",e=>e.cy-10).transition().delay((e,t)=>2*t).duration(300).ease(d3.easeLinear).attr("r",e=>e.radius).attr("cy",e=>widthMobile>768?e.cy:e.cy-10).attr("cx",e=>widthMobile>768?e.cx:e.cx-240),x(1142))};e.setup({step:".scroll-ao",debug:!1,offset:.33}).onStepEnter(t),window.addEventListener("resize",e.resize)})()};window.addEventListener("resize",()=>{a()}),d3.csv("csv/ao.csv",(e,t)=>{e?console.log(e):(c=t,n.select(".chart-ao-container").append("g").attr("class","chart-ao-container-bis"),a())})}ao();